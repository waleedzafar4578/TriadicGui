import{e as c,m as p}from"./monaco-editor-DTcSDHPy.js";import{r as u}from"./react-kB3GaPK6.js";function j(e){return/^\d+$/.test(e)?"".concat(e,"px"):e}function h(){}var l=function(){return l=Object.assign||function(e){for(var i,a=1,t=arguments.length;a<t;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},l.apply(this,arguments)},L=function(e,i){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)i.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};function w(e){var i=e.width,a=e.height,t=e.value,o=e.defaultValue,d=e.language,g=e.theme,v=e.options,W=e.overrideServices,S=e.editorWillMount,_=e.editorDidMount,C=e.editorWillUnmount,N=e.onChange,f=e.className,m=e.uri,M=u.useRef(null),n=u.useRef(null),y=u.useRef(null),E=u.useRef(null),b=j(i),x=j(a),V=u.useMemo(function(){return{width:b,height:x}},[b,x]),P=function(){var r=S(p);return r||{}},D=function(){_(n.current,p),y.current=n.current.onDidChangeModelContent(function(r){E.current||N(n.current.getValue(),r)})},R=function(){C(n.current,p)},U=function(){var r=t!==null?t:o;if(M.current){var $=l(l({},v),P()),O=m==null?void 0:m(p),s=O&&c.getModel(O);s?(s.setValue(r),c.setModelLanguage(s,d)):s=c.createModel(r,d,O),n.current=c.create(M.current,l(l(l({model:s},f?{extraEditorClassName:f}:{}),$),g?{theme:g}:{}),W),D()}};return u.useEffect(U,[]),u.useEffect(function(){if(n.current){if(t===n.current.getValue())return;var r=n.current.getModel();E.current=!0,n.current.pushUndoStop(),r.pushEditOperations([],[{range:r.getFullModelRange(),text:t}],void 0),n.current.pushUndoStop(),E.current=!1}},[t]),u.useEffect(function(){if(n.current){var r=n.current.getModel();c.setModelLanguage(r,d)}},[d]),u.useEffect(function(){if(n.current){v.model;var r=L(v,["model"]);n.current.updateOptions(l(l({},f?{extraEditorClassName:f}:{}),r))}},[f,v]),u.useEffect(function(){n.current&&n.current.layout()},[i,a]),u.useEffect(function(){c.setTheme(g)},[g]),u.useEffect(function(){return function(){n.current&&(R(),n.current.dispose()),y.current&&y.current.dispose()}},[]),u.createElement("div",{ref:M,style:V,className:"react-monaco-editor-container"})}w.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:h,editorDidMount:h,editorWillUnmount:h,onChange:h,className:null};w.displayName="MonacoEditor";export{w as M};
